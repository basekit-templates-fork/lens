
// -----------------------------
// 	Blog
// -----------------------------

//	1. 	 Blog Search
//  2.   Blog Post List
//  3.   Blog Post



// -----------------------------
//  1. Blog Search
// -----------------------------

div[data-widget-type="blogsearch"] {
    background-color: lighten(@color-swatch7, 5%);
    border-bottom: 1px solid @color-swatch7;
    margin-bottom: 20px;
    padding: 40px 30px 45px;
    text-align: left;

    // Signup form
    .blogsearch {
        margin: 0 auto;
        max-width: 1200px;

        .fieldset {
        	position: relative;
        }

        // Positions legend over input
        .legend {
        	background-color: white;
            display: block;
            font-family: @font__body;
            font-size: 13px;
            margin-bottom: 0;
            padding: 5px 10px 5px 15px;
            position: absolute;
            left: 4px;
            top: 7px;
            letter-spacing: 1px;
            text-transform: uppercase;
            visibility: visible;

            @media @mobile-650px {
            	display: none;
            	visibility: hidden;
            	padding: 5px 15px 5px 15px;
            }
        }

        // Hide label
        .label {
            display: none;
            visibility: hidden;
        }

        // Form group
        .form-group {
            padding: 0;

            // Bring button over input
            &:last-child {
                margin-left: -1px;
            }
        }

        input, button {
            height: 60px;
        }

        // Form input
        input {
            border: 1px solid #E2E2E2;
            padding-left: 135px;

            @media @mobile-650px {
            	padding-left: 15px;
            }
        }

        // Form button
        button {
            background-color: @color-swatch4;
            color: white;
            margin: 0;
        }
    }

    // Remove padding from profile widget text
    h2.headline, p.business {
        padding-bottom: 0;
    }

    // Pushes Twitter username away from twitter bird
    .account-name {
        padding-right: 40px;
    }
}



// -----------------------------
//  2. Blog Post List
// -----------------------------

div[data-widget-type="blogsearch"] + div[role="main"] .blogpostlist {
	margin-top: 0;
}

.blogpostlist {
	margin-top: 20px;

	.post-article {
		.flex-display;
		.flex-wrap(wrap);
		position: relative;
	}

	.post-image, .post-content, .post-footer {
		.flex-grow(0);
	}

	.post-image {
		.flex(0 38%);
		order: 1;

		@media @tablet-860px {
			.flex(0 100%);
			padding-right: 0;
		}

		.image-link {
			background-position: center center;
			background-size: cover;
			height: 275px;

			@media @mobile-650px {
				height: 250px;
			}
		}

		.image {
			display: none;
			visibility: hidden;
		}
	}

	.post-content {
		.flex(0 55%);
		order: 2;
		margin: 0;
		margin-bottom: 30px;
		padding: 22px 0 20px 0;

		@media @tablet-860px {
			.flex(0 100%);
			order: 3;
			margin-bottom: 0;
			padding: 12px 0 0;
		}

		.post-title {
			 padding-bottom: 15px;

			 @media @mobile-650px {
			 	padding-bottom: 10px;
			 }
		}

		h2 a {
			color: @color__h2--text;
		}

		.read-more {
			color: @color__button--text;
	        display: inline-block;
	        font-size: bkscale(@font__button--font-size, 0.93);
	        font-weight: @font__button--font-weight;
	        letter-spacing: @font__button--letter-spacing;
	        margin-top: 5px;
	        min-width: 100px;
	        padding: 16px;
	        text-transform: uppercase;
	        .transition(all 0.5s ease-in-out);
		}
	}

	.post-article {
		margin-bottom: 50px;

		&:last-child {
			margin-bottom: 0;
		}
	}

	.post-footer {
		.flex(0 50%);
		order: 3;
		padding-left: 0;
		position: absolute;
		left: 0;
		top: 0;

		@media @tablet-860px {
			order: 2;
			padding-left: 0;
			position: relative;
		}

		.timestamp {
			color: lighten(@font-swatch4-color, 45%);
			font-size: bkscale(@font__button--font-size, 0.93);
			font-weight: @font__button--font-weight;
			letter-spacing: 1px;
			margin: 0;
			text-transform: uppercase;

			@media @tablet-860px {
				margin: 25px 0 0;
			}
		}
	}

	// Previous and next buttons
	.post-list-footer {
		margin-top: 40px;
	}
}


// If there is no image apply these styles
.blogpostlist .post-article > .post-image ~ .post-footer {
	padding-left: 43.5%;

	@media @tablet-860px {
		padding-left: 0;
	}
}

.blogpostlist .post-article > .post-image ~ .post-content {
	padding-left: 65px;

	@media @tablet-860px {
		padding: 12px 0 0;
	}
}

// Pagination

.blogpostlist__pagination-list {
	.flex-display;
	.justify-content(space-between);
}


// -----------------------------
//  3. Blog Post
// -----------------------------

.blogpost {
	.post-article {
		position: relative;
	}

	.post-image {

		.image-link {
			background-color: transparent;
			background-size: cover;
			background-position: center center;
			min-height: 650px;
			position: relative;
			height: 650px;
			height: 65vh;
			.transition(none);
			-webkit-filter: grayscale(20%);

			@media @tablet-860px {
				height: 500px;
			}

			@media @mobile-650px {
				height: 400px;
			}

			&:before {
				background-color: fade(black, 40%);
				content: "";
				position: absolute;
				top: 0;
				bottom; 0;
				right: 0;
				left: 0;
				height: 650px;
				height: 65vh;
			}
		}

		.image {
			display: none;
			visibility: hidden;
		}
	}

	.post-header {
		position: absolute;
		top: 0;
		height: 65vh;
		min-height: 650px;
		bottom: 0;
		left: 0;
		right: 0;
		text-align: center;
		.flex-display;
		.align-items(center);
		.justify-content(center);
	}

	.post-title {
		color: white;
		font-size: 46px;
		font-weight: 400;
		-webkit-font-smoothing: antialiased;

		@media @mobile-650px {
			font-size: bkscale(@font__h1--font-size, 0.75);
			line-height: bkscale(@font__h1--line-height, 0.78);
		}
	}

	.post-content {
		margin: 0 auto;
		max-width: 860px;
		padding: 10rem 30px 2rem;

		@media @tablet-860px {
			.flex( 0 100%);
			padding-bottom: 0;
		}

		@media @mobile-650px {
			padding: 6.5rem 25px 0;
		}

		// Make paragraph text larger for blog post content
		p, blockquote {
			font-size: bkscale(@font__p--font-size, 1.05);
			line-height: bkscale(@font__p--line-height, 1.05);

			@media @tablet {
				font-size: bkscale(@font__p--font-size, 1);
				line-height: bkscale(@font__p--line-height, 1);
			}
		}


		// Add additional padding to blog post images
		img {
			 padding: 1em 0 0.5em;
		}
	}

	// Footer
	.post-footer {
		margin: 0 auto;
		max-width: 860px;
		padding: 0 30px;
		width: 100%;
	}

	.post-attributes {
		.flex-display(inline-flex);
		margin-top: 0;
	}

	.post-tags {
		margin-left: 20px;
	}

	// Font styling for blog metadata
	.timestamp, .category-title, .category-link, .tags-title, .tag-link {
		font-size: bkscale(@font__button--font-size, 0.85);
		font-weight: @font__button--font-weight;
		letter-spacing: 1px;
		margin: 0;
		text-transform: uppercase;
	}

	// Tags and date text colour
	.timestamp, .category-link, .tag-link {
		display: inline-block;
	}

	.timestamp {
		margin-right: 20px;
	}

	// Add comma after any kind of tag
	.category-link, .tag-link {
		&:after {
			content: ",";
			position: relative;
		}
	}

	// Remove comma after last tag
	.tag-item:last-child .tag-link:after, .category-link:after {
		display: none;
	}

	// Social sharing icons
	.sharing-links {
		padding: 0;
	 	position: relative;

		li.network-item {
			margin: 10px 16px 10px 0;
		}

		button {
			background-color: transparent;
			color: fade(@color-swatch2, 75%);
			font-size: 16px;
			min-width: initial;
			padding: 0;
			overflow: hidden;
			height: 25px;
			width: 15px;
			&:hover {
				background-color: transparent;
				color: fade(@color-swatch2, 90%);
			}
		}
	}
}

// If image is available these styles are applied
.blogpost .post-article > .post-image ~ .post-content {
	padding: 4rem 30px 2rem;

	@media @mobile-650px {
		padding: 2.5rem 30px 2rem;
	}
}

.blogpost .post-article > .post-image ~ .post-footer {
	.flex-display;
	.justify-content(flex-end);
	-ms-flex-pack: end;
	height: 65vh;
	padding: 0;
	position: absolute;
	min-height: 650px;
	max-width: 100%;
	padding: 10px 25px 10px 140px;
	left: 0;
	right: 0;
	top: 0;

	@media @tablet-860px {
		.flex(0 100%);
		top: 0;
	}

	@media @mobile-650px {
		.justify-content(flex-start);
		padding-left: 25px;
		top: 200px;
	}

	.category-title, .tags-title {
		color: fade(white, 50%);
		display: block;
		line-height: 1;

		&:after {
			content: ":";
			display: inline-block;
			position: relative;
		}
	}

	.post-attributes {
		display: inline-block;
		.flex-order(1);
		.align-self(flex-end);
		-ms-flex-item-align: end;
		margin: 0;

		@media @mobile-650px {
			display: none;
			visibility: hidden;
		}
	}

	.post-category, .post-tags {
		display: inline-block;
		padding: 20px 25px 10px;
	}

	// Blog publish date
	.timestamp {
		display: inline-block;
		.align-self(flex-end);
		-ms-flex-item-align: end;
		.flex-order(2);
		margin-right: 0;
		padding: 20px 0 20px 25px;

		@media @mobile-650px {
			padding: 20px 0;
		}

		&:before {
			color: fade(white, 50%);
			content: "DATE:";
			display: block;
			margin-bottom: 12px;
			position: relative;
		}
	}

	.post-tags {
		margin-left: 0;
	}

	// Tags and date text colour
	.timestamp, .category-link, .tag-link {
		color: white;
	}

	// Social sharing icons
	.sharing-links {
		.align-self(flex-end);
		-ms-flex-align: flex-end;
		max-height: 55px;
	 	position: absolute;
		left: 35px;
		bottom: 15px;

		@media @mobile-650px {
			left: initial;
			right: 15px;
		}

		button {
			color: fade(white, 75%);
		}
	}
}
